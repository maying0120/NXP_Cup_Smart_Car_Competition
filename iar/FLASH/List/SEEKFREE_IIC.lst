###############################################################################
#
# IAR ANSI C/C++ Compiler V7.20.2.7424/W32 for ARM        06/Jul/2017  20:47:56
# Copyright 1999-2014 IAR Systems AB.
#
#    Cpu mode     =  thumb
#    Endian       =  little
#    Source file  =  
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\app\SEEKFREE_IIC.c
#    Command line =  
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\app\SEEKFREE_IIC.c
#        -D LPLD_K60 -D USE_K60F12 -lCN
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\FLASH\List\
#        -lB
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\FLASH\List\
#        -o
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\FLASH\Obj\
#        --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=Cortex-M4F -e --fpu=None --dlib_config
#        D:\IAR\arm\INC\c\DLib_Config_Normal.h -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\app\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\CPU\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\common\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\LPLD\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\LPLD\HW\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\LPLD\DEV\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\LPLD\FUNC\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\uCOS-II\Ports\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\uCOS-II\Source\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\FatFs\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\FatFs\option\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\USB\common\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\USB\driver\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\USB\descriptor\
#        -I
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\..\..\..\lib\USB\class\
#        -Ol -I D:\IAR\arm\CMSIS\Include\ -D ARM_MATH_CM4
#    List file    =  
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\FLASH\List\SEEKFREE_IIC.lst
#    Object file  =  
#        C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\iar\FLASH\Obj\SEEKFREE_IIC.o
#
###############################################################################

C:\Users\lenovo\Desktop\17ÖÇÄÜ³µÊ¡Èü\LPLD_OSKinetis_V3\project\chase_after£¨ÍêÕû³ÌĞò£©\app\SEEKFREE_IIC.c
      1          /*********************************************************************************************************************
      2           * COPYRIGHT NOTICE
      3           * Copyright (c) 2016,é€é£ç§‘æŠ€
      4           * All rights reserved.
      5           * æŠ€æœ¯è®¨è®ºQQç¾¤ï¼š179029047
      6           *
      7           * ä»¥ä¸‹æ‰€æœ‰å†…å®¹ç‰ˆæƒå‡å±é€é£ç§‘æŠ€æ‰€æœ‰ï¼Œæœªç»å…è®¸ä¸å¾—ç”¨äºå•†ä¸šç”¨é€”ï¼Œ
      8           * æ¬¢è¿å„ä½ä½¿ç”¨å¹¶ä¼ æ’­æœ¬ç¨‹åºï¼Œä¿®æ”¹å†…å®¹æ—¶å¿…é¡»ä¿ç•™é€é£ç§‘æŠ€çš„ç‰ˆæƒå£°æ˜ã€‚
      9           *
     10           * @file       		SEEKFREE_IIC.c
     11           * @brief      		æ¨¡æ‹ŸIICå‡½æ•°åº“
     12           * @company	   		æˆéƒ½é€é£ç§‘æŠ€æœ‰é™å…¬å¸
     13           * @author     		Go For It(1325536866)
     14           * @version    		v1.0
     15           * @Software 		IAR 7.2 or MDK 5.17
     16           * @Target core		MK60DN512VLL10
     17           * @Taobao   		https://seekfree.taobao.com/
     18           * @date       		2016-02-25
     19           * @note	
     20          					æ¨¡æ‹ŸIICæ¥çº¿å®šä¹‰
     21          					------------------------------------ 
     22          						SDA                 C17
     23          						SCL                 C16
     24          					------------------------------------ 
     25           ********************************************************************************************************************/
     26          
     27          
     28          #include "Includes.h"
     29          
     30          
     31          #define SDA             SDA_gpio_get()
     32          #define SDA0()          SDA_gpio_reset()	                //IOå£è¾“å‡ºä½ç”µå¹³
     33          #define SDA1()          SDA_gpio_set()            		//IOå£è¾“å‡ºé«˜ç”µå¹³  
     34          #define SCL0()          SCL_gpio_reset()         		//IOå£è¾“å‡ºä½ç”µå¹³
     35          #define SCL1()          SCL_gpio_set()	                 	//IOå£è¾“å‡ºé«˜ç”µå¹³
     36          #define DIR_OUT()       SDA_gpio_SetOut()                       //è¾“å‡ºæ–¹å‘
     37          #define DIR_IN()        SDA_gpio_SetIn()                        //è¾“å…¥æ–¹å‘
     38             
     39                                                    
     40          //å†…éƒ¨æ•°æ®å®šä¹‰

   \                                 In section .bss, align 1
     41          uint8 IIC_ad_main; //å™¨ä»¶ä»åœ°å€	    
   \                     IIC_ad_main:
   \   00000000                      DS8 1

   \                                 In section .bss, align 1
     42          uint8 IIC_ad_sub;  //å™¨ä»¶å­åœ°å€	   
   \                     IIC_ad_sub:
   \   00000000                      DS8 1

   \                                 In section .bss, align 4
     43          uint8 *IIC_buf;    //å‘é€|æ¥æ”¶æ•°æ®ç¼“å†²åŒº	    
   \                     IIC_buf:
   \   00000000                      DS8 4

   \                                 In section .bss, align 1
     44          uint8 IIC_num;     //å‘é€|æ¥æ”¶æ•°æ®ä¸ªæ•°	     
   \                     IIC_num:
   \   00000000                      DS8 1
     45          
     46          #define ack 1      //ä¸»åº”ç­”
     47          #define no_ack 0   //ä»åº”ç­”	 
     48          
     49          
     50          
     51          //-------------------------------------------------------------------------------------------------------------------
     52          //  @brief      æ¨¡æ‹ŸIICå»¶æ—¶
     53          //  @return     void						
     54          //  @since      v1.0
     55          //  Sample usage:				å¦‚æœIICé€šè®¯å¤±è´¥å¯ä»¥å°è¯•å¢åŠ jçš„å€¼
     56          //-------------------------------------------------------------------------------------------------------------------

   \                                 In section .text, align 2, keep-with-next
     57          void simiic_delay(void)
     58          {
     59          	//64ä¸º100Kçš„é€Ÿç‡(busé¢‘ç‡ä¸º100M)
     60          	//ç‰¹åˆ«æç¤ºOV7725çš„é€šä¿¡é€Ÿç‡ä¸èƒ½å¤ªé«˜ï¼Œæœ€å¥½50Kå·¦å³ï¼Œjè®¾ç½®ä¸º120é€šä¿¡é€Ÿç‡ä¸º60Kï¼Œ60Kçš„æ—¶å€™å¯ä»¥æ­£å¸¸é€šä¿¡
     61          	//å…¶ä»–IICå™¨ä»¶ä¸€èˆ¬å¯ä»¥400Kçš„é€šä¿¡é€Ÿç‡
     62          	uint16 j=30;   
   \                     simiic_delay: (+1)
   \   00000000   0x201E             MOVS     R0,#+30
     63          	while(j--);
   \                     ??simiic_delay_0: (+1)
   \   00000002   0x0001             MOVS     R1,R0
   \   00000004   0x1E48             SUBS     R0,R1,#+1
   \   00000006   0xB289             UXTH     R1,R1            ;; ZeroExt  R1,R1,#+16,#+16
   \   00000008   0x2900             CMP      R1,#+0
   \   0000000A   0xD1FA             BNE.N    ??simiic_delay_0
     64          }
   \   0000000C   0x4770             BX       LR               ;; return
     65          
     66          
     67          //å†…éƒ¨ä½¿ç”¨ï¼Œç”¨æˆ·æ— éœ€è°ƒç”¨

   \                                 In section .text, align 2, keep-with-next
     68          void IIC_start(void)
     69          {
   \                     IIC_start: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     70          	SDA1();
   \   00000002   0x.... 0x....      BL       SDA_gpio_set
     71          	SCL1();
   \   00000006   0x.... 0x....      BL       SCL_gpio_set
     72          	simiic_delay();
   \   0000000A   0x.... 0x....      BL       simiic_delay
     73          	SDA0();
   \   0000000E   0x.... 0x....      BL       SDA_gpio_reset
     74          	simiic_delay();
   \   00000012   0x.... 0x....      BL       simiic_delay
     75          	SCL0();
   \   00000016   0x.... 0x....      BL       SCL_gpio_reset
     76          }
   \   0000001A   0xBD01             POP      {R0,PC}          ;; return
     77          
     78          //å†…éƒ¨ä½¿ç”¨ï¼Œç”¨æˆ·æ— éœ€è°ƒç”¨

   \                                 In section .text, align 2, keep-with-next
     79          void IIC_stop(void)
     80          {
   \                     IIC_stop: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
     81          	SDA0();
   \   00000002   0x.... 0x....      BL       SDA_gpio_reset
     82          	SCL0();
   \   00000006   0x.... 0x....      BL       SCL_gpio_reset
     83          	simiic_delay();
   \   0000000A   0x.... 0x....      BL       simiic_delay
     84          	SCL1();
   \   0000000E   0x.... 0x....      BL       SCL_gpio_set
     85          	simiic_delay();
   \   00000012   0x.... 0x....      BL       simiic_delay
     86          	SDA1();
   \   00000016   0x.... 0x....      BL       SDA_gpio_set
     87          	simiic_delay();
   \   0000001A   0x.... 0x....      BL       simiic_delay
     88          }
   \   0000001E   0xBD01             POP      {R0,PC}          ;; return
     89          
     90          //ä¸»åº”ç­”(åŒ…å«ack:SDA=0å’Œno_ack:SDA=0)
     91          //å†…éƒ¨ä½¿ç”¨ï¼Œç”¨æˆ·æ— éœ€è°ƒç”¨

   \                                 In section .text, align 2, keep-with-next
     92          void I2C_SendACK(unsigned char ack_dat)
     93          {
   \                     I2C_SendACK: (+1)
   \   00000000   0xB510             PUSH     {R4,LR}
   \   00000002   0x0004             MOVS     R4,R0
     94              SCL0();
   \   00000004   0x.... 0x....      BL       SCL_gpio_reset
     95          	simiic_delay();
   \   00000008   0x.... 0x....      BL       simiic_delay
     96          	if(ack_dat) SDA0();
   \   0000000C   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000000E   0x2C00             CMP      R4,#+0
   \   00000010   0xD002             BEQ.N    ??I2C_SendACK_0
   \   00000012   0x.... 0x....      BL       SDA_gpio_reset
   \   00000016   0xE001             B.N      ??I2C_SendACK_1
     97              else    	SDA1();
   \                     ??I2C_SendACK_0: (+1)
   \   00000018   0x.... 0x....      BL       SDA_gpio_set
     98          
     99              SCL1();
   \                     ??I2C_SendACK_1: (+1)
   \   0000001C   0x.... 0x....      BL       SCL_gpio_set
    100              simiic_delay();
   \   00000020   0x.... 0x....      BL       simiic_delay
    101              SCL0();
   \   00000024   0x.... 0x....      BL       SCL_gpio_reset
    102              simiic_delay();
   \   00000028   0x.... 0x....      BL       simiic_delay
    103          }
   \   0000002C   0xBD10             POP      {R4,PC}          ;; return
    104          
    105          

   \                                 In section .text, align 2, keep-with-next
    106          static int SCCB_WaitAck(void)
    107          {
   \                     SCCB_WaitAck: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    108              SCL0();
   \   00000002   0x.... 0x....      BL       SCL_gpio_reset
    109          	DIR_IN();
   \   00000006   0x.... 0x....      BL       SDA_gpio_SetIn
    110          	simiic_delay();
   \   0000000A   0x.... 0x....      BL       simiic_delay
    111          	
    112          	SCL1();
   \   0000000E   0x.... 0x....      BL       SCL_gpio_set
    113              simiic_delay();
   \   00000012   0x.... 0x....      BL       simiic_delay
    114          	
    115              if(SDA)           //åº”ç­”ä¸ºé«˜ç”µå¹³ï¼Œå¼‚å¸¸ï¼Œé€šä¿¡å¤±è´¥
   \   00000016   0x.... 0x....      BL       SDA_gpio_get
   \   0000001A   0x2800             CMP      R0,#+0
   \   0000001C   0xD005             BEQ.N    ??SCCB_WaitAck_0
    116              {
    117                  DIR_OUT();
   \   0000001E   0x.... 0x....      BL       SDA_gpio_SetOut
    118                  SCL0();
   \   00000022   0x.... 0x....      BL       SCL_gpio_reset
    119                  return 0;
   \   00000026   0x2000             MOVS     R0,#+0
   \   00000028   0xE006             B.N      ??SCCB_WaitAck_1
    120              }
    121              DIR_OUT();
   \                     ??SCCB_WaitAck_0: (+1)
   \   0000002A   0x.... 0x....      BL       SDA_gpio_SetOut
    122              SCL0();
   \   0000002E   0x.... 0x....      BL       SCL_gpio_reset
    123          	simiic_delay();
   \   00000032   0x.... 0x....      BL       simiic_delay
    124              return 1;
   \   00000036   0x2001             MOVS     R0,#+1
   \                     ??SCCB_WaitAck_1: (+1)
   \   00000038   0xBD02             POP      {R1,PC}          ;; return
    125          }
    126          
    127          //å­—èŠ‚å‘é€ç¨‹åº
    128          //å‘é€c(å¯ä»¥æ˜¯æ•°æ®ä¹Ÿå¯æ˜¯åœ°å€)ï¼Œé€å®Œåæ¥æ”¶ä»åº”ç­”
    129          //ä¸è€ƒè™‘ä»åº”ç­”ä½
    130          //å†…éƒ¨ä½¿ç”¨ï¼Œç”¨æˆ·æ— éœ€è°ƒç”¨

   \                                 In section .text, align 2, keep-with-next
    131          void send_ch(uint8 c)
    132          {
   \                     send_ch: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
   \   00000002   0x0004             MOVS     R4,R0
    133          	uint8 i = 8;
   \   00000004   0x2508             MOVS     R5,#+8
   \   00000006   0xE00A             B.N      ??send_ch_0
    134              while(i--)
    135              {
    136                  if(c & 0x80)	SDA1();//SDA è¾“å‡ºæ•°æ®
    137                  else			SDA0();
   \                     ??send_ch_1: (+1)
   \   00000008   0x.... 0x....      BL       SDA_gpio_reset
    138                  c <<= 1;
   \                     ??send_ch_2: (+1)
   \   0000000C   0x0064             LSLS     R4,R4,#+1
    139                  simiic_delay();
   \   0000000E   0x.... 0x....      BL       simiic_delay
    140                  SCL1();                //SCL æ‹‰é«˜ï¼Œé‡‡é›†ä¿¡å·
   \   00000012   0x.... 0x....      BL       SCL_gpio_set
    141                  simiic_delay();
   \   00000016   0x.... 0x....      BL       simiic_delay
    142                  SCL0();                //SCL æ—¶é’Ÿçº¿æ‹‰ä½
   \   0000001A   0x.... 0x....      BL       SCL_gpio_reset
   \                     ??send_ch_0: (+1)
   \   0000001E   0x0028             MOVS     R0,R5
   \   00000020   0x1E45             SUBS     R5,R0,#+1
   \   00000022   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000024   0x2800             CMP      R0,#+0
   \   00000026   0xD004             BEQ.N    ??send_ch_3
   \   00000028   0x0620             LSLS     R0,R4,#+24
   \   0000002A   0xD5ED             BPL.N    ??send_ch_1
   \   0000002C   0x.... 0x....      BL       SDA_gpio_set
   \   00000030   0xE7EC             B.N      ??send_ch_2
    143              }
    144          	SCCB_WaitAck();
   \                     ??send_ch_3: (+1)
   \   00000032   0x.... 0x....      BL       SCCB_WaitAck
    145          }
   \   00000036   0xBD31             POP      {R0,R4,R5,PC}    ;; return
    146          
    147          //å­—èŠ‚æ¥æ”¶ç¨‹åº
    148          //æ¥æ”¶å™¨ä»¶ä¼ æ¥çš„æ•°æ®ï¼Œæ­¤ç¨‹åºåº”é…åˆ|ä¸»åº”ç­”å‡½æ•°|IIC_ack_main()ä½¿ç”¨
    149          //å†…éƒ¨ä½¿ç”¨ï¼Œç”¨æˆ·æ— éœ€è°ƒç”¨

   \                                 In section .text, align 2, keep-with-next
    150          uint8 read_ch(void)
    151          {
   \                     read_ch: (+1)
   \   00000000   0xB538             PUSH     {R3-R5,LR}
    152              uint8 i;
    153              uint8 c;
    154              c=0;
   \   00000002   0x2500             MOVS     R5,#+0
    155              SCL0();
   \   00000004   0x.... 0x....      BL       SCL_gpio_reset
    156              simiic_delay();
   \   00000008   0x.... 0x....      BL       simiic_delay
    157              SDA1();             //ç½®æ•°æ®çº¿ä¸ºè¾“å…¥æ–¹å¼
   \   0000000C   0x.... 0x....      BL       SDA_gpio_set
    158              DIR_IN();
   \   00000010   0x.... 0x....      BL       SDA_gpio_SetIn
    159              for(i=0;i<8;i++)
   \   00000014   0x2400             MOVS     R4,#+0
   \   00000016   0xE010             B.N      ??read_ch_0
    160              {
    161                  simiic_delay();
   \                     ??read_ch_1: (+1)
   \   00000018   0x.... 0x....      BL       simiic_delay
    162                  SCL0();         //ç½®æ—¶é’Ÿçº¿ä¸ºä½ï¼Œå‡†å¤‡æ¥æ”¶æ•°æ®ä½
   \   0000001C   0x.... 0x....      BL       SCL_gpio_reset
    163                  simiic_delay();
   \   00000020   0x.... 0x....      BL       simiic_delay
    164                  SCL1();         //ç½®æ—¶é’Ÿçº¿ä¸ºé«˜ï¼Œä½¿æ•°æ®çº¿ä¸Šæ•°æ®æœ‰æ•ˆ
   \   00000024   0x.... 0x....      BL       SCL_gpio_set
    165                  simiic_delay();
   \   00000028   0x.... 0x....      BL       simiic_delay
    166                  c<<=1;
   \   0000002C   0x006D             LSLS     R5,R5,#+1
    167                  if(SDA) c+=1;   //è¯»æ•°æ®ä½ï¼Œå°†æ¥æ”¶çš„æ•°æ®å­˜c
   \   0000002E   0x.... 0x....      BL       SDA_gpio_get
   \   00000032   0x2800             CMP      R0,#+0
   \   00000034   0xD000             BEQ.N    ??read_ch_2
   \   00000036   0x1C6D             ADDS     R5,R5,#+1
    168              }
   \                     ??read_ch_2: (+1)
   \   00000038   0x1C64             ADDS     R4,R4,#+1
   \                     ??read_ch_0: (+1)
   \   0000003A   0xB2E4             UXTB     R4,R4            ;; ZeroExt  R4,R4,#+24,#+24
   \   0000003C   0x2C08             CMP      R4,#+8
   \   0000003E   0xDBEB             BLT.N    ??read_ch_1
    169              DIR_OUT();
   \   00000040   0x.... 0x....      BL       SDA_gpio_SetOut
    170          	SCL0();
   \   00000044   0x.... 0x....      BL       SCL_gpio_reset
    171          	simiic_delay();
   \   00000048   0x.... 0x....      BL       simiic_delay
    172          	I2C_SendACK(no_ack);
   \   0000004C   0x2000             MOVS     R0,#+0
   \   0000004E   0x.... 0x....      BL       I2C_SendACK
    173          	
    174              return c;
   \   00000052   0x0028             MOVS     R0,R5
   \   00000054   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000056   0xBD32             POP      {R1,R4,R5,PC}    ;; return
    175          }
    176          
    177          //-------------------------------------------------------------------------------------------------------------------
    178          //  @brief      æ¨¡æ‹ŸIICå†™æ•°æ®åˆ°è®¾å¤‡å¯„å­˜å™¨å‡½æ•°
    179          //  @param      dev_add			è®¾å¤‡åœ°å€(ä½ä¸ƒä½åœ°å€)
    180          //  @param      reg				å¯„å­˜å™¨åœ°å€
    181          //  @param      dat				å†™å…¥çš„æ•°æ®
    182          //  @return     void						
    183          //  @since      v1.0
    184          //  Sample usage:				
    185          //-------------------------------------------------------------------------------------------------------------------

   \                                 In section .text, align 2, keep-with-next
    186          void simiic_write_reg(uint8 dev_add, uint8 reg, uint8 dat)
    187          {
   \                     simiic_write_reg: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
   \   00000006   0x0016             MOVS     R6,R2
    188          	IIC_start();
   \   00000008   0x.... 0x....      BL       IIC_start
    189              send_ch( (dev_add<<1) | 0x00);   //å‘é€å™¨ä»¶åœ°å€åŠ å†™ä½
   \   0000000C   0x0060             LSLS     R0,R4,#+1
   \   0000000E   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000010   0x.... 0x....      BL       send_ch
    190          	send_ch( reg );   				 //å‘é€ä»æœºå¯„å­˜å™¨åœ°å€
   \   00000014   0x0028             MOVS     R0,R5
   \   00000016   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000018   0x.... 0x....      BL       send_ch
    191          	send_ch( dat );   				 //å‘é€éœ€è¦å†™å…¥çš„æ•°æ®
   \   0000001C   0x0030             MOVS     R0,R6
   \   0000001E   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000020   0x.... 0x....      BL       send_ch
    192          	IIC_stop();
   \   00000024   0x.... 0x....      BL       IIC_stop
    193          }
   \   00000028   0xBD70             POP      {R4-R6,PC}       ;; return
    194          
    195          
    196          //-------------------------------------------------------------------------------------------------------------------
    197          //  @brief      æ¨¡æ‹ŸIICä»è®¾å¤‡å¯„å­˜å™¨è¯»å–æ•°æ®
    198          //  @param      dev_add			è®¾å¤‡åœ°å€(ä½ä¸ƒä½åœ°å€)
    199          //  @param      reg				å¯„å­˜å™¨åœ°å€
    200          //  @param      type			é€‰æ‹©é€šä¿¡æ–¹å¼æ˜¯IIC  è¿˜æ˜¯ SCCB
    201          //  @return     uint8			è¿”å›å¯„å­˜å™¨çš„æ•°æ®			
    202          //  @since      v1.0
    203          //  Sample usage:				
    204          //-------------------------------------------------------------------------------------------------------------------

   \                                 In section .text, align 2, keep-with-next
    205          uint8 simiic_read_reg(uint8 dev_add, uint8 reg, IIC_type type)
    206          {
   \                     simiic_read_reg: (+1)
   \   00000000   0xB570             PUSH     {R4-R6,LR}
   \   00000002   0x0004             MOVS     R4,R0
   \   00000004   0x000D             MOVS     R5,R1
   \   00000006   0x0016             MOVS     R6,R2
    207          	uint8 dat;
    208          	IIC_start();
   \   00000008   0x.... 0x....      BL       IIC_start
    209              send_ch( (dev_add<<1) | 0x00);  //å‘é€å™¨ä»¶åœ°å€åŠ å†™ä½
   \   0000000C   0x0060             LSLS     R0,R4,#+1
   \   0000000E   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000010   0x.... 0x....      BL       send_ch
    210          	send_ch( reg );   				//å‘é€ä»æœºå¯„å­˜å™¨åœ°å€
   \   00000014   0x0028             MOVS     R0,R5
   \   00000016   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000018   0x.... 0x....      BL       send_ch
    211          	if(type == SCCB)IIC_stop();
   \   0000001C   0xB2F6             UXTB     R6,R6            ;; ZeroExt  R6,R6,#+24,#+24
   \   0000001E   0x2E01             CMP      R6,#+1
   \   00000020   0xD101             BNE.N    ??simiic_read_reg_0
   \   00000022   0x.... 0x....      BL       IIC_stop
    212          	
    213          	IIC_start();
   \                     ??simiic_read_reg_0: (+1)
   \   00000026   0x.... 0x....      BL       IIC_start
    214          	send_ch( (dev_add<<1) | 0x01);  //å‘é€å™¨ä»¶åœ°å€åŠ è¯»ä½
   \   0000002A   0x0060             LSLS     R0,R4,#+1
   \   0000002C   0xF050 0x0001      ORRS     R0,R0,#0x1
   \   00000030   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000032   0x.... 0x....      BL       send_ch
    215          	dat = read_ch();   				//å‘é€éœ€è¦å†™å…¥çš„æ•°æ®
   \   00000036   0x.... 0x....      BL       read_ch
   \   0000003A   0x0004             MOVS     R4,R0
    216          	IIC_stop();
   \   0000003C   0x.... 0x....      BL       IIC_stop
    217          	
    218          	return dat;
   \   00000040   0x0020             MOVS     R0,R4
   \   00000042   0xB2C0             UXTB     R0,R0            ;; ZeroExt  R0,R0,#+24,#+24
   \   00000044   0xBD70             POP      {R4-R6,PC}       ;; return
    219          }
    220          
    221          //-------------------------------------------------------------------------------------------------------------------
    222          //  @brief      æ¨¡æ‹ŸIICç«¯å£åˆå§‹åŒ–
    223          //  @param      NULL
    224          //  @return     void	
    225          //  @since      v1.0
    226          //  Sample usage:				
    227          //-------------------------------------------------------------------------------------------------------------------

   \                                 In section .text, align 2, keep-with-next
    228          void IIC_init(void)
    229          {
   \                     IIC_init: (+1)
   \   00000000   0xB580             PUSH     {R7,LR}
    230                  SDA1();
   \   00000002   0x.... 0x....      BL       SDA_gpio_set
    231                  SCL1();
   \   00000006   0x.... 0x....      BL       SCL_gpio_set
    232          }
   \   0000000A   0xBD01             POP      {R0,PC}          ;; return
    233          
    234          
    235          //-------------------------------------------------------------------------------------------------------------------
    236          //  @brief      å¼€æœºè¯»å–å•ç‰‡æœºé¢‘ç‡
    237          //  @param      NULL
    238          //  @return     void	
    239          //  @since      v1.0
    240          //  Sample usage:				
    241          //-------------------------------------------------------------------------------------------------------------------
    242          #define EX_REF_CLK  50 //(å®šä¹‰å¤–éƒ¨å‚è€ƒæ—¶é’Ÿä¸º50MHZ)

   \                                 In section .data, align 4
    243          uint32 mcgout_clk_mhz = 100;
   \                     mcgout_clk_mhz:
   \   00000000   0x00000064         DC32 100

   \                                 In section .data, align 4
    244          uint32 core_clk_mhz = 100;
   \                     core_clk_mhz:
   \   00000000   0x00000064         DC32 100

   \                                 In section .data, align 4
    245          uint32 bus_clk_mhz = 100;
   \                     bus_clk_mhz:
   \   00000000   0x00000064         DC32 100
    246          

   \                                 In section .text, align 2, keep-with-next
    247          void get_clk(void)
    248          {  
    249              mcgout_clk_mhz = 100;
   \                     get_clk: (+1)
   \   00000000   0x2064             MOVS     R0,#+100
   \   00000002   0x....             LDR.N    R1,??DataTable7
   \   00000004   0x6008             STR      R0,[R1, #+0]
    250              core_clk_mhz = 100;
   \   00000006   0x2064             MOVS     R0,#+100
   \   00000008   0x....             LDR.N    R1,??DataTable7_1
   \   0000000A   0x6008             STR      R0,[R1, #+0]
    251              bus_clk_mhz = 100;
   \   0000000C   0x2064             MOVS     R0,#+100
   \   0000000E   0x....             LDR.N    R1,??DataTable7_2
   \   00000010   0x6008             STR      R0,[R1, #+0]
    252          }
   \   00000012   0x4770             BX       LR               ;; return
    253          
    254          
    255          //-------------------------------------------------------------------------------------------------------------------
    256          //  @brief      IOå£ç”µå¹³çŠ¶æ€è¯»å–
    257          //  @param      NULL
    258          //  @return     void	
    259          //  @since      v1.0
    260          //  Sample usage:				
    261          //-------------------------------------------------------------------------------------------------------------------

   \                                 In section .text, align 2, keep-with-next
    262          uint8  SDA_gpio_get(void)
    263          {
   \                     SDA_gpio_get: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    264              GPIO_InitTypeDef  SDA_init_struct;
    265              SDA_init_struct.GPIO_PTx = SDA_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    266              SDA_init_struct.GPIO_Pins = SDA_PinX;
   \   00000008   0x2080             MOVS     R0,#+128
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    267              SDA_init_struct.GPIO_PinControl = INPUT_PULL_UP;
   \   0000000C   0x2003             MOVS     R0,#+3
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    268              SDA_init_struct.GPIO_Dir = DIR_INPUT;
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    269              SDA_init_struct.GPIO_Isr = NULL;
   \   00000016   0x2000             MOVS     R0,#+0
   \   00000018   0x9005             STR      R0,[SP, #+20]
    270              LPLD_GPIO_Init(SDA_init_struct);
   \   0000001A   0xA901             ADD      R1,SP,#+4
   \   0000001C   0xB084             SUB      SP,SP,#+16
   \   0000001E   0x4668             MOV      R0,SP
   \   00000020   0x2214             MOVS     R2,#+20
   \   00000022   0x.... 0x....      BL       __aeabi_memcpy4
   \   00000026   0xBC0F             POP      {R0-R3}
   \   00000028   0x.... 0x....      BL       LPLD_GPIO_Init
    271              
    272              return LPLD_GPIO_Input_8b(SDA_PTX, SDA_PinNumX);
   \   0000002C   0x2107             MOVS     R1,#+7
   \   0000002E   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000030   0x.... 0x....      BL       LPLD_GPIO_Input_8b
   \   00000034   0xB007             ADD      SP,SP,#+28
   \   00000036   0xBD00             POP      {PC}             ;; return
    273          }
    274          

   \                                 In section .text, align 2, keep-with-next
    275          void SDA_gpio_set(void)
    276          {
   \                     SDA_gpio_set: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    277              GPIO_InitTypeDef  SDA_init_struct;
    278              SDA_init_struct.GPIO_PTx = SDA_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    279              SDA_init_struct.GPIO_Pins = SDA_PinX;
   \   00000008   0x2080             MOVS     R0,#+128
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    280              SDA_init_struct.GPIO_PinControl = OUTPUT_DSH;
   \   0000000C   0x2040             MOVS     R0,#+64
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    281              SDA_init_struct.GPIO_Dir = DIR_OUTPUT;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    282              SDA_init_struct.GPIO_Output = OUTPUT_H;
   \   00000016   0x2001             MOVS     R0,#+1
   \   00000018   0xF88D 0x0011      STRB     R0,[SP, #+17]
    283              SDA_init_struct.GPIO_Isr = NULL;
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x9005             STR      R0,[SP, #+20]
    284              LPLD_GPIO_Init(SDA_init_struct);   
   \   00000020   0xA901             ADD      R1,SP,#+4
   \   00000022   0xB084             SUB      SP,SP,#+16
   \   00000024   0x4668             MOV      R0,SP
   \   00000026   0x2214             MOVS     R2,#+20
   \   00000028   0x.... 0x....      BL       __aeabi_memcpy4
   \   0000002C   0xBC0F             POP      {R0-R3}
   \   0000002E   0x.... 0x....      BL       LPLD_GPIO_Init
    285          }
   \   00000032   0xB007             ADD      SP,SP,#+28
   \   00000034   0xBD00             POP      {PC}             ;; return
    286          

   \                                 In section .text, align 2, keep-with-next
    287          void SDA_gpio_reset(void)
    288          {
   \                     SDA_gpio_reset: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    289              GPIO_InitTypeDef  SDA_init_struct;
    290              SDA_init_struct.GPIO_PTx = SDA_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    291              SDA_init_struct.GPIO_Pins = SDA_PinX;
   \   00000008   0x2080             MOVS     R0,#+128
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    292              SDA_init_struct.GPIO_PinControl = OUTPUT_DSH;
   \   0000000C   0x2040             MOVS     R0,#+64
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    293              SDA_init_struct.GPIO_Dir = DIR_OUTPUT;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    294              SDA_init_struct.GPIO_Output = OUTPUT_L;
   \   00000016   0x2000             MOVS     R0,#+0
   \   00000018   0xF88D 0x0011      STRB     R0,[SP, #+17]
    295              SDA_init_struct.GPIO_Isr = NULL;
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x9005             STR      R0,[SP, #+20]
    296              LPLD_GPIO_Init(SDA_init_struct);   
   \   00000020   0xA901             ADD      R1,SP,#+4
   \   00000022   0xB084             SUB      SP,SP,#+16
   \   00000024   0x4668             MOV      R0,SP
   \   00000026   0x2214             MOVS     R2,#+20
   \   00000028   0x.... 0x....      BL       __aeabi_memcpy4
   \   0000002C   0xBC0F             POP      {R0-R3}
   \   0000002E   0x.... 0x....      BL       LPLD_GPIO_Init
    297          }
   \   00000032   0xB007             ADD      SP,SP,#+28
   \   00000034   0xBD00             POP      {PC}             ;; return
    298          

   \                                 In section .text, align 2, keep-with-next
    299          void SCL_gpio_set(void)
    300          {
   \                     SCL_gpio_set: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    301              GPIO_InitTypeDef  SCL_init_struct;
    302              SCL_init_struct.GPIO_PTx = SCL_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    303              SCL_init_struct.GPIO_Pins = SCL_PinX;
   \   00000008   0x2040             MOVS     R0,#+64
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    304              SCL_init_struct.GPIO_PinControl = OUTPUT_DSH;
   \   0000000C   0x2040             MOVS     R0,#+64
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    305              SCL_init_struct.GPIO_Dir = DIR_OUTPUT;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    306              SCL_init_struct.GPIO_Output = OUTPUT_H;
   \   00000016   0x2001             MOVS     R0,#+1
   \   00000018   0xF88D 0x0011      STRB     R0,[SP, #+17]
    307              SCL_init_struct.GPIO_Isr = NULL;
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x9005             STR      R0,[SP, #+20]
    308              LPLD_GPIO_Init(SCL_init_struct);   
   \   00000020   0xA901             ADD      R1,SP,#+4
   \   00000022   0xB084             SUB      SP,SP,#+16
   \   00000024   0x4668             MOV      R0,SP
   \   00000026   0x2214             MOVS     R2,#+20
   \   00000028   0x.... 0x....      BL       __aeabi_memcpy4
   \   0000002C   0xBC0F             POP      {R0-R3}
   \   0000002E   0x.... 0x....      BL       LPLD_GPIO_Init
    309          }
   \   00000032   0xB007             ADD      SP,SP,#+28
   \   00000034   0xBD00             POP      {PC}             ;; return
    310          

   \                                 In section .text, align 2, keep-with-next
    311          void SCL_gpio_reset(void)
    312          {
   \                     SCL_gpio_reset: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    313              GPIO_InitTypeDef  SCL_init_struct;
    314              SCL_init_struct.GPIO_PTx = SCL_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    315              SCL_init_struct.GPIO_Pins = SCL_PinX;
   \   00000008   0x2040             MOVS     R0,#+64
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    316              SCL_init_struct.GPIO_PinControl = OUTPUT_DSH;
   \   0000000C   0x2040             MOVS     R0,#+64
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    317              SCL_init_struct.GPIO_Dir = DIR_OUTPUT;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    318              SCL_init_struct.GPIO_Output = OUTPUT_L;
   \   00000016   0x2000             MOVS     R0,#+0
   \   00000018   0xF88D 0x0011      STRB     R0,[SP, #+17]
    319              SCL_init_struct.GPIO_Isr = NULL;
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x9005             STR      R0,[SP, #+20]
    320              LPLD_GPIO_Init(SCL_init_struct);   
   \   00000020   0xA901             ADD      R1,SP,#+4
   \   00000022   0xB084             SUB      SP,SP,#+16
   \   00000024   0x4668             MOV      R0,SP
   \   00000026   0x2214             MOVS     R2,#+20
   \   00000028   0x.... 0x....      BL       __aeabi_memcpy4
   \   0000002C   0xBC0F             POP      {R0-R3}
   \   0000002E   0x.... 0x....      BL       LPLD_GPIO_Init
    321          }
   \   00000032   0xB007             ADD      SP,SP,#+28
   \   00000034   0xBD00             POP      {PC}             ;; return
    322          

   \                                 In section .text, align 2, keep-with-next
    323          void  SDA_gpio_SetOut(void)
    324          {
   \                     SDA_gpio_SetOut: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    325              GPIO_InitTypeDef  SDA_init_struct;
    326              SDA_init_struct.GPIO_PTx = SDA_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    327              SDA_init_struct.GPIO_Pins = SDA_PinX;
   \   00000008   0x2080             MOVS     R0,#+128
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    328              SDA_init_struct.GPIO_PinControl = OUTPUT_DSH;
   \   0000000C   0x2040             MOVS     R0,#+64
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    329              SDA_init_struct.GPIO_Dir = DIR_OUTPUT;
   \   00000010   0x2001             MOVS     R0,#+1
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    330              SDA_init_struct.GPIO_Output = OUTPUT_H;
   \   00000016   0x2001             MOVS     R0,#+1
   \   00000018   0xF88D 0x0011      STRB     R0,[SP, #+17]
    331              SDA_init_struct.GPIO_Isr = NULL;
   \   0000001C   0x2000             MOVS     R0,#+0
   \   0000001E   0x9005             STR      R0,[SP, #+20]
    332              LPLD_GPIO_Init(SDA_init_struct);   
   \   00000020   0xA901             ADD      R1,SP,#+4
   \   00000022   0xB084             SUB      SP,SP,#+16
   \   00000024   0x4668             MOV      R0,SP
   \   00000026   0x2214             MOVS     R2,#+20
   \   00000028   0x.... 0x....      BL       __aeabi_memcpy4
   \   0000002C   0xBC0F             POP      {R0-R3}
   \   0000002E   0x.... 0x....      BL       LPLD_GPIO_Init
    333          }
   \   00000032   0xB007             ADD      SP,SP,#+28
   \   00000034   0xBD00             POP      {PC}             ;; return
    334          
    335          

   \                                 In section .text, align 2, keep-with-next
    336          void  SDA_gpio_SetIn(void)
    337          {
   \                     SDA_gpio_SetIn: (+1)
   \   00000000   0xB500             PUSH     {LR}
   \   00000002   0xB087             SUB      SP,SP,#+28
    338              GPIO_InitTypeDef  SDA_init_struct;
    339              SDA_init_struct.GPIO_PTx = SDA_PTX;
   \   00000004   0x....             LDR.N    R0,??DataTable7_3  ;; 0x400ff000
   \   00000006   0x9001             STR      R0,[SP, #+4]
    340              SDA_init_struct.GPIO_Pins = SDA_PinX;
   \   00000008   0x2080             MOVS     R0,#+128
   \   0000000A   0x9002             STR      R0,[SP, #+8]
    341              SDA_init_struct.GPIO_PinControl = INPUT_PULL_UP;
   \   0000000C   0x2003             MOVS     R0,#+3
   \   0000000E   0x9003             STR      R0,[SP, #+12]
    342              SDA_init_struct.GPIO_Dir = DIR_INPUT;
   \   00000010   0x2000             MOVS     R0,#+0
   \   00000012   0xF88D 0x0010      STRB     R0,[SP, #+16]
    343              SDA_init_struct.GPIO_Isr = NULL;
   \   00000016   0x2000             MOVS     R0,#+0
   \   00000018   0x9005             STR      R0,[SP, #+20]
    344              LPLD_GPIO_Init(SDA_init_struct);
   \   0000001A   0xA901             ADD      R1,SP,#+4
   \   0000001C   0xB084             SUB      SP,SP,#+16
   \   0000001E   0x4668             MOV      R0,SP
   \   00000020   0x2214             MOVS     R2,#+20
   \   00000022   0x.... 0x....      BL       __aeabi_memcpy4
   \   00000026   0xBC0F             POP      {R0-R3}
   \   00000028   0x.... 0x....      BL       LPLD_GPIO_Init
    345          }
   \   0000002C   0xB007             ADD      SP,SP,#+28
   \   0000002E   0xBD00             POP      {PC}             ;; return

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7:
   \   00000000   0x........         DC32     mcgout_clk_mhz

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_1:
   \   00000000   0x........         DC32     core_clk_mhz

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_2:
   \   00000000   0x........         DC32     bus_clk_mhz

   \                                 In section .text, align 4, keep-with-next
   \                     ??DataTable7_3:
   \   00000000   0x400FF000         DC32     0x400ff000

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       8   I2C_SendACK
         8   -> SCL_gpio_reset
         8   -> SCL_gpio_set
         8   -> SDA_gpio_reset
         8   -> SDA_gpio_set
         8   -> simiic_delay
       8   IIC_init
         8   -> SCL_gpio_set
         8   -> SDA_gpio_set
       8   IIC_start
         8   -> SCL_gpio_reset
         8   -> SCL_gpio_set
         8   -> SDA_gpio_reset
         8   -> SDA_gpio_set
         8   -> simiic_delay
       8   IIC_stop
         8   -> SCL_gpio_reset
         8   -> SCL_gpio_set
         8   -> SDA_gpio_reset
         8   -> SDA_gpio_set
         8   -> simiic_delay
       8   SCCB_WaitAck
         8   -> SCL_gpio_reset
         8   -> SCL_gpio_set
         8   -> SDA_gpio_SetIn
         8   -> SDA_gpio_SetOut
         8   -> SDA_gpio_get
         8   -> simiic_delay
      48   SCL_gpio_reset
        32   -> LPLD_GPIO_Init
        48   -> __aeabi_memcpy4
      48   SCL_gpio_set
        32   -> LPLD_GPIO_Init
        48   -> __aeabi_memcpy4
      48   SDA_gpio_SetIn
        32   -> LPLD_GPIO_Init
        48   -> __aeabi_memcpy4
      48   SDA_gpio_SetOut
        32   -> LPLD_GPIO_Init
        48   -> __aeabi_memcpy4
      48   SDA_gpio_get
        32   -> LPLD_GPIO_Init
        32   -> LPLD_GPIO_Input_8b
        48   -> __aeabi_memcpy4
      48   SDA_gpio_reset
        32   -> LPLD_GPIO_Init
        48   -> __aeabi_memcpy4
      48   SDA_gpio_set
        32   -> LPLD_GPIO_Init
        48   -> __aeabi_memcpy4
       0   get_clk
      16   read_ch
        16   -> I2C_SendACK
        16   -> SCL_gpio_reset
        16   -> SCL_gpio_set
        16   -> SDA_gpio_SetIn
        16   -> SDA_gpio_SetOut
        16   -> SDA_gpio_get
        16   -> SDA_gpio_set
        16   -> simiic_delay
      16   send_ch
        16   -> SCCB_WaitAck
        16   -> SCL_gpio_reset
        16   -> SCL_gpio_set
        16   -> SDA_gpio_reset
        16   -> SDA_gpio_set
        16   -> simiic_delay
       0   simiic_delay
      16   simiic_read_reg
        16   -> IIC_start
        16   -> IIC_stop
        16   -> read_ch
        16   -> send_ch
      16   simiic_write_reg
        16   -> IIC_start
        16   -> IIC_stop
        16   -> send_ch


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable7
       4  ??DataTable7_1
       4  ??DataTable7_2
       4  ??DataTable7_3
      46  I2C_SendACK
       1  IIC_ad_main
       1  IIC_ad_sub
       4  IIC_buf
      12  IIC_init
       1  IIC_num
      28  IIC_start
      32  IIC_stop
      58  SCCB_WaitAck
      54  SCL_gpio_reset
      54  SCL_gpio_set
      48  SDA_gpio_SetIn
      54  SDA_gpio_SetOut
      56  SDA_gpio_get
      54  SDA_gpio_reset
      54  SDA_gpio_set
       4  bus_clk_mhz
       4  core_clk_mhz
      20  get_clk
       4  mcgout_clk_mhz
      88  read_ch
      56  send_ch
      14  simiic_delay
      70  simiic_read_reg
      42  simiic_write_reg

 
   7 bytes in section .bss
  12 bytes in section .data
 856 bytes in section .text
 
 856 bytes of CODE memory
  19 bytes of DATA memory

Errors: none
Warnings: none
